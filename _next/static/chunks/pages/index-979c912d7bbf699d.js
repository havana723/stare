(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(666)}])},666:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return L},default:function(){return O}});var r=t(7297),a=t(5893),o=t(917),i=t(7435),u=t(6829);function s(){var n=(0,r.Z)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1000;\n  pointer-events: none;\n  opacity: 50%;\n"]);return s=function(){return n},n}function c(){var n=(0,r.Z)(["\n  background-color: #1d31a520;\n  mix-blend-mode: screen;\n"]);return c=function(){return n},n}function l(){var n=(0,r.Z)(["\n  background: linear-gradient(to bottom, transparent 60%, #61c5ff22);\n  mix-blend-mode: screen;\n"]);return l=function(){return n},n}function d(){var n=(0,r.Z)(["\n  background: linear-gradient(to bottom, transparent 90%, #ffe0aa10);\n  mix-blend-mode: screen;\n"]);return d=function(){return n},n}var f=u.Z.div(s()),h=(0,u.Z)(f)(c()),v=(0,u.Z)(f)(l()),m=(0,u.Z)(f)(d()),x=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{}),(0,a.jsx)(v,{}),(0,a.jsx)(m,{})]})},p=t(797),b=t(9865),g=t(7433),j=t(4061),w=t(8302),M=t(7294),y=t(9477),S=t(8197),_=t(3955),P=t(4360);(0,w.e)({Line_:y.Line});var z=function(){var n=(0,M.useRef)(null),e=(0,M.useRef)(null),t=(0,M.useRef)(null),r=(0,M.useState)(null),o=r[0],i=r[1],u=(0,M.useCallback)(function(n){var e=(300*Math.random()+150)*(Math.random()-.5)*2,t=(300*Math.random()+150)*(Math.random()-.5)*2,r=(300*Math.random()+150)*(Math.random()-.5)*2;return{position:[e,t,r],start:new y.Vector3(-(300*Math.random())/10+e,-(300*Math.random())/10+t,-(300*Math.random())/10+r),end:new y.Vector3(300*Math.random()/10+e,300*Math.random()/10+t,300*Math.random()/10+r),offset:10*Math.random()+(n||0)}},[]);(0,M.useEffect)(function(){i(u())},[u]);var s=(0,M.useMemo)(function(){var n;return null!==(n=null==o?void 0:o.start)&&void 0!==n?n:new y.Vector3(0,0,0)},[null==o?void 0:o.start]),c=(0,M.useMemo)(function(){var n;return null!==(n=null==o?void 0:o.end)&&void 0!==n?n:new y.Vector3(0,0,0)},[null==o?void 0:o.end]),l=(0,M.useCallback)(function(n){n.setFromPoints([s,c])},[s,c]);return(0,M.useEffect)(function(){var n;null===(n=t.current)||void 0===n||n.setFromPoints([s,c])},[s,c]),(0,w.z)(function(r){var a,l=r.clock;if(null===(a=n.current)||void 0===a||a.computeLineDistances(),o){var d=l.getElapsedTime()-o.offset;d>0&&e.current&&(d<.5&&(e.current.dashSize=70*d),d>=.5&&d<1&&t.current&&t.current.setFromPoints([s.lerpVectors(o.start,c,(d-.5)*2),c,]),d>1&&(e.current.dashSize=0),d>10&&i(u(l.getElapsedTime())))}}),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("line_",{ref:n,children:[(0,a.jsx)("bufferGeometry",{ref:t,attach:"geometry",onUpdate:l,children:(0,a.jsx)("bufferAttribute",{attach:"attributes-position",count:1,array:null==o?void 0:o.position,itemSize:3})}),(0,a.jsx)("lineDashedMaterial",{ref:e,attach:"material",color:"#ffffff",linewidth:20,linecap:"round",linejoin:"round",dashSize:0,gapSize:1e5})]})})},C=M.createContext({database:[],database2:[],hoverStar:null,setHoverStar:function(){}}),F=function(n){var e=(0,M.useState)(null),t=e[0],r=e[1];return(0,a.jsx)(C.Provider,{value:{database:n.database,database2:n.database2,hoverStar:t,setHoverStar:r},children:n.children})},k=function(){return(0,M.useContext)(C)},E=function(n){var e=4600*(1/(.92*n+1.7)+1/(.92*n+.62)),t=0,r=0;e>=1667&&e<=4e3?t=-266123900.00000003/Math.pow(e,3)+-234358/Math.pow(e,2)+877.6956/e+.17991:e>4e3&&e<=25e3&&(t=-3025846900/Math.pow(e,3)+2107037.9/Math.pow(e,2)+222.63469999999998/e+.24039),e>=1667&&e<=2222?r=-1.1063814*Math.pow(t,3)-1.3481102*Math.pow(t,2)+2.18555832*t-.20219683:e>2222&&e<=4e3?r=-.9549476*Math.pow(t,3)-1.37418593*Math.pow(t,2)+2.09137015*t-.16748867:e>4e3&&e<=25e3&&(r=3.081758*Math.pow(t,3)-5.8733867*Math.pow(t,2)+3.75112997*t-.37001483);var a=0==r?0:1,o=0==r?0:t*a/r,i=0==r?0:(1-t-r)*a/r;return{r:.41847*o-.15866*a-.082835*i,g:-.091169*o+.25243*a+.015708*i,b:9209e-7*o-.0025498*a+.1786*i}},Z=function(){var n=(0,M.useRef)(null),e=k().database,t=e.length,r=(0,M.useMemo)(function(){for(var n=new Float32Array(3*t),r=0;r<t;r++)n[3*r]=+e[r].x,n[3*r+1]=+e[r].y,n[3*r+2]=+e[r].z;return n},[t,e]),o=(0,M.useMemo)(function(){for(var n=new Float32Array(t),r=0;r<t;r++)n[r]=1.2*Math.min(7,-10/9*+e[r].mag+7);return n},[t,e]),i=(0,M.useMemo)(function(){for(var n=new Float32Array(3*t),r=0;r<t;r++){var a=E(+e[r].ci),o=a.r,i=a.g,u=a.b;n[3*r]=5*o,n[3*r+1]=5*i,n[3*r+2]=5*u}return n},[t,e]);return(0,M.useEffect)(function(){n.current&&(n.current.geometry.setAttribute("position",new y.BufferAttribute(r,3)),n.current.geometry.setAttribute("color",new y.BufferAttribute(i,3)),n.current.geometry.setAttribute("size",new y.BufferAttribute(o,1)))},[n,r,i,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("points",{ref:n,children:[(0,a.jsx)("bufferGeometry",{}),(0,a.jsx)("shaderMaterial",{attach:"material",transparent:!0,uniforms:{color:{value:new y.Color(16777215)}},vertexShader:"\n  attribute float size;\n  attribute vec3 color;\n\n  varying vec3 vColor;\n\n	void main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	  gl_PointSize = size;\n	  gl_Position = projectionMatrix * mvPosition;\n  }\n",fragmentShader:"\n  uniform vec3 color;\n\n  varying vec3 vColor;\n\n  void main() {\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;\n    gl_FragColor = vec4( color * vColor, 1.0 );\n  }\n"})]})})},A=function(){var n=k(),e=n.database2,t=n.hoverStar,r=n.setHoverStar;return(0,a.jsx)(a.Fragment,{children:e.map(function(n){return .01>=+n.x||.01>=+n.y||.01>=+n.x?null:(0,a.jsxs)("mesh",{position:[+n.x,+n.y,+n.z],onPointerEnter:function(){return r(n)},onPointerOut:function(){return r(null)},children:[(0,a.jsx)("sphereGeometry",{}),(0,a.jsx)("meshBasicMaterial",{transparent:!0,opacity:(null==t?void 0:t.id)===n.id?.3:.1})]},n.id)})})};(0,w.e)({RenderPass:S.C,UnrealBloomPass:_.m});var R=function(n){var e=n.lineCount;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.z,{disableGamma:!0,children:[(0,a.jsx)("unrealBloomPass",{threshold:.1,strength:5,radius:1}),(0,a.jsx)("shaderPass",{args:[P.C]})]}),(0,a.jsx)(Z,{}),(0,a.jsx)(A,{}),(0,p.Z)(Array(e)).map(function(n,e){return(0,a.jsx)(z,{},e)})]})},V=function(){var n,e=(0,M.useRef)(null),t=(0,M.useRef)(null);(0,M.useRef)(),(0,M.useRef)();var r=(0,M.useRef)(0),o=(0,M.useState)(0),i=o[0];o[1];var u=(0,M.useState)(new y.Vector3(0,0,0)),s=u[0];return u[1],(0,M.useEffect)(function(){t.current&&e.current&&(e.current.enabled=!1,t.current.position.set(500,500,500),t.current.updateProjectionMatrix(),e.current.enabled=!0,e.current.update())},[]),(0,w.z)(function(n){var a=n.clock;r.current=a.getElapsedTime();var o=a.getElapsedTime()-i;if(o<5&&t.current&&e.current){e.current.enabled=!1;var u=t.current.position.lerp(s,o/5);t.current.position.set(u.x,u.y,u.z),t.current.updateProjectionMatrix(),e.current.enabled=!0,e.current.update()}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("color",{attach:"background",args:["#000"]}),(0,a.jsxs)(M.Suspense,{fallback:null,children:[(0,a.jsx)(g.c,{ref:t,near:1e-4,makeDefault:!0}),(0,a.jsx)(j.$,{ref:e,camera:null!==(n=t.current)&&void 0!==n?n:void 0,rotateSpeed:5,minDistance:.1,maxDistance:1e3,noPan:!0}),(0,a.jsx)(R,{lineCount:10})]})]})};function B(){var n=(0,r.Z)(["\n  position: fixed;\n  right: 32px;\n  bottom: 32px;\n  width: 480px;\n  height: 320px;\n  max-width: 40vw;\n  max-height: 20vw;\n  color: #0000004b;\n  border: 1px solid white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  pointer-events: none;\n"]);return B=function(){return n},n}function G(){var n=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  padding: 12px;\n  object-fit: cover;\n"]);return G=function(){return n},n}var N=u.Z.div(B()),T=u.Z.img(G()),D=function(){var n=k().hoverStar;return(0,a.jsx)(a.Fragment,{children:n&&""!==n.id?(0,a.jsx)(N,{children:(0,a.jsx)(T,{src:"/img/img".concat(+n.id%11+1,".jpg")})}):null})};function H(){var n=(0,r.Z)(["\n          html,\n          body,\n          #__next {\n            width: 100%;\n            height: 100%;\n          }\n        "]);return H=function(){return n},n}var L=!0,O=function(n){var e=n.database,t=n.database2;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Global,{styles:(0,o.css)(H())}),(0,a.jsxs)(F,{database:e,database2:t,children:[(0,a.jsx)(i.Xz,{dpr:[1,2],children:(0,a.jsx)(V,{})}),(0,a.jsx)(x,{}),(0,a.jsx)(D,{})]})]})}}},function(n){n.O(0,[737,484,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);